<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="坐观垂钓者,徒有羡鱼情.">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Python Challenge - </title>

    <link rel="canonical" href="http://EthanPen.github.io/2016/06/25/Python-Challenge/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Ethan.Penx Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/inPost/PythonChallenge.png" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/inPost/PythonChallenge.png')
    }

    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#Python" title="Python">Python</a>
                        
                        <a class="tag" href="/tags/#PythonChallenge" title="PythonChallenge">PythonChallenge</a>
                        
                    </div>
                    <h1>Python Challenge</h1>
                    
                    
                    <h2 class="subheading">" The first programming riddle on the net " </h2>
                    
                    <span class="meta">Posted by Ethan on June 25, 2016</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <blockquote>
  <p><a href="http://www.pythonchallenge.com/">PythonChallenge</a><br />
To read the pre-Level of PythonChallenge at this site: <a href="http://jnstar.iteye.com/admin/blogs/2214796">Ethan.Penx Blog in ITeye</a></p>
</blockquote>

<h4 id="table-of-contents">Table of Contents</h4>
<ol>
  <li><a href="#Level 7">Level 7</a></li>
  <li><a href="#Level 8">Level 8</a></li>
  <li><a href="#Level 9">Level 9</a></li>
</ol>

<hr />

<p id="Level 7"></p>

<h2 id="level-7">Level 7</h2>

<p><strong>Riddle Page L7:</strong> <a href="http://www.pythonchallenge.com/pc/def/oxygen.html">http://www.pythonchallenge.com/pc/def/oxygen.html</a></p>

<p>The title of the page is “smarty”, and there’s a picture  with a strip of greyscale squares across the middle which is at the top of the page. At the sight of the clue “smarty”, what occurs to me is a <strong>Python Module</strong> named <strong>Smartypants</strong>, but sadly, there’s nothing I can get by <strong>smartypants.</strong></p>

<p>Mabye the clue is in those greyscale squares, with the greyscale level (range from 0-255) encoding something in it, whatever, try it first.</p>

<p>Downloaded the picture(named it ‘<strong>oxygen.png</strong>’).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; import Image
&gt;&gt;&gt; im = Image.open("/Users/xing/Desktop/oxygen.png")
&gt;&gt;&gt; width, height = im.size
&gt;&gt;&gt; im.getpixel((0, h//2))
(115, 115, 115, 255)
&gt;&gt;&gt; print chr(115), chr(255)
s ?
</code></pre>
</div>

<p>Well, that make sense. Let’s guess that each block is 4 pixel wider:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; smarty = [chr(im.getpixel((i, h//2))[0]) for i in range(0, width, 4)]
&gt;&gt;&gt; ''.join(smarty)
'ssmaarrtt gguuyy,  yyoou  mmaadee  iit..  tthee  nnexxtt  leevveel  iiss [[11005,,  11100,,  11166,, 110011,  11003,,  11144,,  10055,, 111166,  11221]]rbecbc'
&gt;&gt;&gt; 
</code></pre>
</div>

<p>Obviously, I choose the wrong pixel width, try it a few of times.</p>

<p>Turns out, the colour changes every 7 pixels.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; print ''.join([chr(im.getpixel((i, h//2))[0]) for i in range(0, width, 7)])
smart guy, you made it. the next level is [105, 110, 116, 101, 103, 114, 105, 116, 121]pe_
&gt;&gt;&gt; print ''.join(map(chr, [105, 110, 116, 101, 103, 114, 105, 116, 121]))
integrity
&gt;&gt;&gt; 
</code></pre>
</div>

<p>So, change the <strong>url</strong> (<strong>oxygen –&gt; integrity</strong>) to getting Level 8:
<strong>Riddle Page L8:</strong> <a href="http://www.pythonchallenge.com/pc/def/integrity.html">http://www.pythonchallenge.com/pc/def/integrity.html</a></p>

<h3 id="the-related">The Related</h3>

<p>There’s something to help understand all the Image stuff as following:</p>

<ul>
  <li>
    <p><a href="http://pillow.readthedocs.io/en/3.2.x/reference/Image.html">PIL - Image Module</a></p>
  </li>
  <li>
    <p><a href="http://stackoverflow.com/questions/3823752/display-image-as-grayscale-using-matplotlib">Display image as grayscale using matplotlib</a></p>
  </li>
  <li>
    <p><a href="http://stackoverflow.com/questions/11064786/get-pixels-rgb-using-pil">Get pixel’s RGB using PIL</a></p>
  </li>
</ul>

<h5 id="functions">functions:</h5>

<ul>
  <li>
    <p><strong>Image.getpixel(xy):</strong><br />
&gt;	Returns the pixel value at a given position.<br />
Parameters:	xy – The coordinate, given as (x, y).<br />
Returns:	The pixel value. If the image is a multi-layer image, this method returns a tuple.</p>
  </li>
  <li>
    <p><strong>map(function, sequence[, sequence, …]) -&gt; list</strong> <br />
&gt; 	Return a list of the results of applying the function to the items of
  the argument sequence(s).  If more than one sequence is given, the
  function is called with an argument list consisting of the corresponding
  item of each sequence, substituting None for missing values when not all
  sequences have the same length.  If the function is None, return a list of the items of the sequence (or a list of tuples if more than one sequence).</p>
  </li>
</ul>

<hr />

<p id="Level 8"></p>

<h2 id="level-8">Level 8</h2>

<p><strong>Riddle Page L8:</strong> <a href="http://www.pythonchallenge.com/pc/def/integrity.html">http://www.pythonchallenge.com/pc/def/integrity.html</a></p>

<p>Well, there’s a picture with a bee flying up the flower, and the clues “Where is the missing link?” at the bottom of the page, clicked the picture takes us to a <strong>password-protected</strong> page for area “inflate”. And the title of this page is “working hard?”.  Seriously? working hard? I’m totally confused…</p>

<p>Let’s do it the old ways, check the source code of this page, it’s showed me a series of messy strings, Unfortunately, I can’t figure out what types of coding it used, neither encoding it.</p>

<p>Fine, google the messy strings, turns out, it’s brz2 compressed file format.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; un = "BZh91AY&amp;SYA\xaf\x82\r\x00\x00\x01\x01\x80\x02\xc0\x02\x00 \x00!\x9ah3M\x07&lt;]\xc9\x14\xe1BA\x06\xbe\x084"
&gt;&gt;&gt; pw = 'BZh91AY&amp;SY\x94$|\x0e\x00\x00\x00\x81\x00\x03$ \x00!\x9ah3M\x13&lt;]\xc9\x14\xe1BBP\x91\xf08'

&gt;&gt;&gt; import bz2
&gt;&gt;&gt; bz2.decompress(un)
'huge'
&gt;&gt;&gt; bz2.decompress(pw)
'file'
</code></pre>
</div>

<p>So, entered the username&amp;password come to the Level 9: <a href="http://www.pythonchallenge.com/pc/return/good.html">http://www.pythonchallenge.com/pc/return/good.html</a></p>

<p>BTW, here’s the hint comes from official solutions:</p>

<blockquote>
  <p>You see a bee in the picture. She sounds busy too. What could that mean?
bee? busy. busy? busy too ? bz2?
The hint in the password box says “inflate” so you consider to try to decompress the strings.</p>
</blockquote>

<h4 id="the-related-1">THe Related</h4>

<ul>
  <li><a href="http://wiki.pythonchallenge.com/index.php?title=Level8:Main_Page">Level8:Main Page
</a></li>
</ul>

<h5 id="functions-1">functions:</h5>

<ul>
  <li>
    <p><strong>bz2.compress(data[, compresslevel])</strong><br />
Compress data in one shot. If you want to compress data sequentially, use an instance of BZ2Compressor instead. The compresslevel parameter, if given, must be a number between 1 and 9; the default is 9.</p>
  </li>
  <li>
    <p><strong>bz2.decompress(data)</strong><br />
Decompress data in one shot. If you want to decompress data sequentially, use an instance of BZ2Decompressor instead.</p>
  </li>
</ul>

<p id="Level 9"></p>

<h2 id="level-9">Level 9</h2>

<p>**Riddle Page Level 9: **<a href="http://www.pythonchallenge.com/pc/return/good.html">http://www.pythonchallenge.com/pc/return/good.html</a></p>

<p><strong>—— To be continue…</strong></p>



                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2016/06/23/Mixed-Content/" data-toggle="tooltip" data-placement="top" title="Mixed Content">
                        Previous<br>
                        <span>Mixed Content</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2016/06/30/2016.06.30-and-DoublePinyin/" data-toggle="tooltip" data-placement="top" title="2016-06-30 and Double Pinyin">
                        Next<br>
                        <span>2016-06-30 and Double Pinyin</span>
                        </a>
                    </li>
                    
                </ul>


                
                <!-- 多说评论框 start -->
                <div class="comment">
                    <div class="ds-thread"
                        data-thread-key="/2016/06/25/Python-Challenge"
                        data-title="Python Challenge"
                        data-url="http://EthanPen.github.io/2016/06/25/Python-Challenge/" >
                    </div>
                </div>
                <!-- 多说评论框 end -->
                

                

            </div>  

    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                            
                                <a href="/tags/#Life" title="Life" rel="2">
                                    Life
                                </a>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                <a href="/tags/#Python" title="Python" rel="4">
                                    Python
                                </a>
                            
                        
                            
                        
                            
                        
                            
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>INTERESTS</h5>
                <ul class="list-inline">
                    
                        <li><a href="#">CS</a></li>
                    
                        <li><a href="#">ENGLISH</a></li>
                    
                        <li><a href="#">PHOTOGRAPH</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>



<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    // dynamic User by Hux
    var _user = 'EthanPen';

    // duoshuo comment query.
    var duoshuoQuery = {short_name: _user };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->







<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("http://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/1692667524">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    


                    
                    <li>
                        <a target="_blank" href="https://www.facebook.com/ethan.pen.96">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/EthanPen">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Ethan.Penx Blog 2016
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-79852829-1';
    var _gaDomain = 'auto';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = 'f3ecddde90c2a58139e08a12aa20af0f';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>



</body>

</html>
